{% extends "base.html" %}
{% load static %}
{% block title %}
    BethCell - Lideres
{% endblock title %}
{% block container %}
<div class="content">
  <div class="container-fluid">

    <div class="row">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header card-header-icon" data-background-color="blue">
                    <i class="material-icons">supervisor_account</i>
                    <h4 class="card-title">Líderes Cadastrados</h4>
                </div>                              
                <div class="card-content">
                    <div class="row">  
                        <div class="col-md-12">
                            <div class="col-md-12 text-right">
                                <a href="javascript: history.go(-1)"class="btn btn-primary btn-round btn-fab btn-fab-mini"id="id_button_back">
                                    <i class="material-icons">reply</i>
                                </a>
                                <a  href="{% url 'add_leader' %}"class="btn btn-info btn-round btn-fab btn-fab-mini card-title"title="Cadastrar Novo Lider">
                                    <i class="material-icons">add</i>
                                </a>
                            </div>
                        </div>
                    </div>
                    
                     <form method="GET"name="form_search">
                        <div class="row">

                            <div class="col-md-2 col-sm-3 pull-right">
                                <button type="submit" class="btn btn-primary  btn-round"><i class="material-icons">search</i></button>
                            </div>

                             <div class="col-md-3 col-sm-3 pull-right">
                                <input type="text"class="form-control" name="name" placeholder="Nome do Líder"value="{{request.GET.name}}">
                            </div> 
                            <div class="col-md-7 col-sm-3">
                             
                            </div>
                           
                        </div>
                    </form>
                    <div class="material-datatables">
                        <table id="datatables" class="table table-striped table-no-bordered table-hover" cellspacing="0" width="100%" style="width:100%">
                            <thead>
                                <tr>
                                    <th width="5%">Nº</th>
                                    <th width="30%">Nome</th>
                                    <th width="10%">Dt/Nascimento</th>
                                    <th width="5%">Idade</th>
                                    <th width="5%">Telefone</th>
                                    <th width="30%">e-mail</th>
                                    <th width="15%">Geração</th>
                                    <th class="td-actions text-right">Ações</th>
                                </tr>
                            </thead>

                            <tbody>
                                {% for leader in leaders %}
                                    <tr>
                                    <td width="5%">{{forloop.counter}}</td>
                                    <td width="30%">{{leader.name|title}}</td>
                                    <td width="10%">{{leader.birth|date:'d/m/Y'}}</td>
                                    <td width="5%">{{leader.get_idade}}</td>
                                    <td width="5%">{{leader.telephone}}</td>
                                    <td width="30%">{{leader.email}}</td>
                                    <td width="15%">{{leader.lider_de_rede}}</td>
                                    <td class="td-actions text-right">
                                        <a  href="{% url 'leader_detail' leader.slug %}"type="button" rel="tooltip" class="btn btn-info btn-round"title="Ver Detalhes">
                                            <i class="material-icons">person</i>
                                        </a>
                                        <a  href="{% url 'leader_update' leader.slug %}"type="button" rel="tooltip" class="btn btn-success btn-round"title="Atualizar Dados">
                                            <i class="material-icons">edit</i>
                                        </a>
                                        <a href="{% url 'leader_delete' leader.slug %}" type="button" rel="tooltip" class="btn btn-danger btn-round"title="Excluir..">
                                            <i class="material-icons">close</i>
                                        </a>
                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
                   <ul class="pagination">
                {% if leaders.has_previous %}
                <li><a href="?page={{ leaders.previous_page_number }}">&laquo;</a></li>
                {% else %}
                <li class="disabled"><span>&laquo;</span></li>
                {% endif %}
                 {% for i in leaders.paginator.page_range %}
                    {% if leaders.number == i %}
                      <li class="active"><span>{{ i }} <span class="sr-only">(current)</span></span></li>
                    {% else %}
                      <li><a href="?page={{ i }}">{{ i }}</a></li>
                    {% endif %}
                  {% endfor %}
                {% if leaders.has_next %}
                  <li><a href="?page={{ leaders.next_page_number }}">&raquo;</a></li>
                {% else %}
                <li class="disabled"><span>&raquo;</span></li>
                {% endif %}
              </ul>
            </div>
            
        </div>

    </div> <!-- end col-md-12 -->
      
  </div>
 
    </div>   
         
{% endblock container %}
